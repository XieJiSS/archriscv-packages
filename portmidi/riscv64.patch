--- PKGBUILD
+++ PKGBUILD
@@ -11,9 +11,17 @@ license=('MIT')
 depends=('glibc')
 makedepends=('alsa-lib' 'cmake')
 provides=('libportmidi.so' 'libporttime.so')
-source=("${pkgname}-${pkgver}.tar.gz::https://github.com/mixxxdj/portmidi/archive/refs/tags/${pkgver}.tar.gz")
-sha512sums=('901729440c4b8c654ab17c4c4f1e3986813bf1e4ad1a874f46e7b1ee0c9ef4ee9f1ecfdf71012fb56b055a6185194dd22c520ae87b9f2259c18af5d189ca57da')
-b2sums=('618c3778b8b2170a145ec956cd4721e731cc135d0192e4b1c35b2c93b6b0f0e74085d044beafe2095b3d8e02e1776f442ae174d342c3f391d04a2aab378b547a')
+source=("${pkgname}-${pkgver}.tar.gz::https://github.com/mixxxdj/portmidi/archive/refs/tags/${pkgver}.tar.gz"
+        0000-fix-printf-gcc10.patch)
+sha512sums=('901729440c4b8c654ab17c4c4f1e3986813bf1e4ad1a874f46e7b1ee0c9ef4ee9f1ecfdf71012fb56b055a6185194dd22c520ae87b9f2259c18af5d189ca57da'
+            '3bffaf933813e412ce7f52359edb0d27adf0710550b1abe4afc2b7ddaa24af62d2a83219ec0086103d88497ebc8ea4ed153227ab7142ec22032ee45fe2240454')
+b2sums=('618c3778b8b2170a145ec956cd4721e731cc135d0192e4b1c35b2c93b6b0f0e74085d044beafe2095b3d8e02e1776f442ae174d342c3f391d04a2aab378b547a'
+        '7ced0e710a846608873580b95b82aa35451d07f2cb69b5176bed9d7fd99bc3da7589468695cb367af05370a31ba66e27eb9e118b9a8146435623455486173fef')
+
+prepare() {
+  cd "${pkgname}-${pkgver}"
+  patch -p1 < ../0000-fix-printf-gcc10.patch
+}
 
 build() {
   cd "${pkgname}-${pkgver}"
